{"name": "用例的标题: 数据驱动", "status": "failed", "statusDetails": {"message": "AssertionError: assert ('{\"code\": \"200\", \"msg\": '\\n '\"\\\\u8d26\\\\u53f7\\\\u6216\\\\u8005\\\\u5bc6\\\\u7801\\\\u9519\\\\u8bef!\"}\\n') == 'token'\n  - token\n  + {\"code\": \"200\", \"msg\": \"\\u8d26\\u53f7\\u6216\\u8005\\u5bc6\\u7801\\u9519\\u8bef!\"}", "trace": "self = <Testcase_Api.Data_Driven.test_Super.Test_super object at 0x0000020CCE5DC3A0>\ndata = {'mothed': 'post', 'parms': 'json', 'response': 'token', 'token': None, ...}\n\n    @allure.title(\"用例的标题: 数据驱动\")\n    @allure.description(\"用例更详细的描述: 详细描述\")\n    @allure.severity(\"normal\")#用例的级别:blocker阻塞缺陷,critical缺陷,normal一般缺陷,minor次要缺陷,trivial轻微缺陷\n    @allure.story(\"用例的标题: 对会所资源进行增、删、改、查\")\n    @allure.issue(\"https://www.baidu.com\")\n    @allure.testcase(\"https://www.baidu.com\")\n    @allure.link(\"https://www.baidu.com\")\n    @pytest.mark.parametrize(\"data\",read_yaml(\"./Data/login.yaml\"))\n    def test_run(self,data):\n    \n        mothed = mothed_tp(data[\"mothed\"])\n        url=data[\"url\"].lower()\n        parms=parms_tp(data[\"parms\"])\n        value=data[\"value\"]\n        token=data[\"token\"]\n        response=data[\"response\"]\n        logging.info(\"mothed: {}, url: {}, value: {}\".format(mothed, url, value))\n        if mothed and parms :\n            headers={}\n            if token !=None: #判断token不为空需要填写字典值\n                headers.update(token)\n            if parms==\"json\":\n                result=self.session.request(Method=mothed,url=url,json=value,headers=headers)\n            elif parms==\"data\":\n                result=self.session.request(Method=mothed,url=url,data=value,headers=headers)\n            elif parms is None:\n                result=self.session.request(Method=mothed,url=url,headers=headers)\n            logging.info(result.text)\n            if isinstance(response,dict):\n                a_text=self.p.result(list(response.items())[0][0],result.json())\n                rv=list(response.items())[0][1]\n                if a_text is not None:\n                    if isinstance(a_text,int) or isinstance(a_text,str):\n                        assert a_text==rv\n                    else:\n                        assert rv in a_text\n                else:\n                    assert rv==a_text\n    \n            elif response is not None and  not isinstance(response,dict) :\n>               assert result.text==str(response)\nE               assert ('{\"code\": \"200\", \"msg\": '\\n '\"\\\\u8d26\\\\u53f7\\\\u6216\\\\u8005\\\\u5bc6\\\\u7801\\\\u9519\\\\u8bef!\"}\\n') == 'token'\nE                 - token\nE                 + {\"code\": \"200\", \"msg\": \"\\u8d26\\u53f7\\u6216\\u8005\\u5bc6\\u7801\\u9519\\u8bef!\"}\n\nTestcase_Api\\Data_Driven\\test_Super.py:75: AssertionError"}, "description": "用例更详细的描述: 详细描述", "steps": [{"name": "-----发起post接口请求-----", "status": "passed", "parameters": [{"name": "url", "value": "'http://127.0.0.1:5000/user/signin'"}, {"name": "data", "value": "None"}, {"name": "json", "value": "{'username': 'admin', 'password': '123456'}"}, {"name": "headers", "value": "{}"}], "start": 1670308831412, "stop": 1670308831424}], "attachments": [{"name": "requets.txt", "source": "f9830c25-27b4-47fd-a41b-a83f5929fd57-attachment.txt", "type": "text/plain"}, {"name": "log", "source": "ebb542f8-a946-484a-88ef-294df27c9e0e-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "data", "value": "{'url': 'http://127.0.0.1:5000/user/signin', 'mothed': 'post', 'token': None, 'parms': 'json', 'value': {'username': 'admin', 'password': '123456'}, 'response': 'token'}"}], "start": 1670308831412, "stop": 1670308831427, "uuid": "13b59029-c1a0-4f6e-9ce7-f9e01ddc5c66", "historyId": "2b69977d2b6a6b37362672df4d616782", "testCaseId": "fcfa621a7a239df0080a8a85c05d4552", "fullName": "Testcase_Api.Data_Driven.test_Super.Test_super#test_run", "labels": [{"name": "epic", "value": "数据驱动"}, {"name": "severity", "value": "normal"}, {"name": "feature", "value": "yaml参数"}, {"name": "story", "value": "用例的标题: 对会所资源进行增、删、改、查"}, {"name": "parentSuite", "value": "Testcase_Api.Data_Driven"}, {"name": "suite", "value": "test_Super"}, {"name": "subSuite", "value": "Test_super"}, {"name": "host", "value": "MS-ULWOYCQPHOQZ"}, {"name": "thread", "value": "5080-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Testcase_Api.Data_Driven.test_Super"}], "links": [{"type": "link", "url": "https://www.baidu.com", "name": "https://www.baidu.com"}, {"type": "test_case", "url": "https://www.baidu.com", "name": "https://www.baidu.com"}, {"type": "issue", "url": "https://www.baidu.com", "name": "https://www.baidu.com"}]}